@{
    Layout = "_UserPageLayout";
    ViewData["Title"] = "Yurt Ödemesi";
}

<h2>Yurt Ödemesi</h2>

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success">@TempData["SuccessMessage"]</div>
}

<form method="post">
    <div class="mb-3">
        <label for="IdentityNumber" class="form-label">Kimlik No</label>
        <input type="text" class="form-control" id="IdentityNumber" name="IdentityNumber" required oninput="fillDormitoryAmount()" />
    </div>
    <div class="mb-3">
        <label for="Amount" class="form-label">Tutar</label>
        <input type="number" class="form-control" id="Amount" name="Amount" readonly />
    </div>
    <button type="submit" class="btn btn-primary">Yurt Ödemesini Yap</button>
</form>

<hr />
<h4>Ödeme Geçmişi</h4>
<table class="table table-bordered">
    <thead>
        <tr>
            <th>Kimlik No</th>
            <th>Tutar</th>
            <th>Tarih</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>11111111111</td>
            <td>1500 TL</td>
            <td>2024-06-01</td>
        </tr>
        <tr>
            <td>22222222222</td>
            <td>1750 TL</td>
            <td>2024-05-10</td>
        </tr>
    </tbody>
</table>

@section Scripts {
<script>
function fillDormitoryAmount() {
    var idNo = document.getElementById('IdentityNumber').value;
    var amount = '';
    if(idNo === '11111111111') {
        amount = 1500;
    } else if(idNo === '22222222222') {
        amount = 1750;
    } else if(idNo === '33333333333') {
        amount = 2000;
    } else {
        amount = '';
    }
    document.getElementById('Amount').value = amount;
}
</script>
} 